{%- comment -%}
Local video include fallback.
Usage:
  {% include video.html id="dQw4w9WgXcQ" provider="youtube" %}
or:
  {% include video.html url="https://www.youtube.com/embed/dQw4w9WgXcQ" %}
{%- endcomment -%}

{%- assign provider = include.provider | default: "youtube" -%}

{%- if provider == "youtube" and include.id -%}
  {%- assign embed = "https://www.youtube.com/embed/" | append: include.id -%}
{%- elsif include.url -%}
  {%- assign embed = include.url -%}
{%- endif -%}

{%- if embed -%}
<div class="video-container">
  <iframe
    src="{{ embed | escape }}"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen
    loading="lazy"></iframe>
</div>
<style>
.video-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%}
.video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%}
</style>
{%- endif -%}
